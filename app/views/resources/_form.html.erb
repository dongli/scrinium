<div class='resource-form'>
  <div style='margin-bottom: 1em;'>
    <% if @resource.id %>
      <%= image_tag @resource.file.url, class: 'center resizable', style: 'padding-bottom: 1em; border-radius: 10px;' %>
    <% else %>
      <%= form_for filter_user([ @app, current_user, @resourceable, @resource ]),
        html: { multipart: true, class: 'dropzone', id: 'upload-file' } do |f| %>
      <% end %>
    <% end %>
  </div>
  <%= simple_form_for filter_user([ @app, current_user, @resourceable, @resource ]), method: :patch do |f| %>
    <%= f.hidden_field :user_id, value: current_user.id %>
    <%=
      f.input :name,
      label: false,
      require: true,
      placeholder: t('global.name')
    %>
    <%=
      f.input :resource_type,
      label: false,
      required: true,
      collection: Resource.resource_types,
      selected: Resource.resource_types[@resource.resource_type]
    %>
    <%=
      f.input :category_list,
      label: false,
      collection: @resource.categories.map { |t| t.name },
      input_html: {
        multiple: 'multiple',
        data: {
          placeholder: t('placeholder.categories')
        }
      }
    %>
    <%=
      f.input :description,
      label: false,
      require: true,
      placeholder: t('global.description'),
      as: :text
    %>
    <% if @resource.id %>
      <%= f.button :submit, t('action.edit'), class: 'button float-right' %>
    <% else %>
      <%= f.button :submit, t('action.add'), class: 'button float-right' %>
    <% end %>
  <% end %>
</div>
